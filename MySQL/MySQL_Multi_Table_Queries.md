# 다중 테이블 쿼리

---

## (1) Introduction to Join

- `관계형 데이터 베이스` : 데이터 간에 `관계`가 있는 데이터 항목들의 모음
- `관계` : 여러 테이블 간의 논리적 연결

Q) 왜 데이터 베이스에서는 하나의 테이블이 아닌 여러 테이블로 나누어 저장하고 결합하여 출력할까?

<br>

### - 커뮤니티 게시판 예시

- 자유 게시판에 필요한 데이터 생각해보기 - 제목, 내용, 작성자 정보 등...

<br>

### - 1개의 테이블로 관리하는 경우

| id | title | content | writer |  role   |
|:--:|:-----:|:-------:|:------:|:-------:|
| 1  |  제목1  |   내용1   |  김철수   |  admin  |
| 2  |  제목2  |   내용2   |  김영미   | student |
| 3  |  제목3   |   내용3   |  최영수   | student |

<br>

Q) 김철수가 작성한 모든 게시글 조회하려면?

```SQL
SELECT * FROM 테이블 WHERE writer = '김철수';
```

- 문제점
  - `동명이인`이 있을 경우, 구분하기 어려움
  - 특정 데이터가 수정되어야 할 경우, 구분하기 어려움
  - 데이터 관리가 어려움

<br>

### - 테이블을 분산관리하는 경우

<articles 테이블>

| id | title | content |
|:--:|:-----:|:-------:|
| 1  |  제목1  |   내용1   |
| 2  |  제목2  |   내용2   |
| 3  |  제목3  |   내용3   |

<users 테이블>

| id | name |
|:--:|:----:|
| 1  | 김철수  |
| 2  | 김영미  |
| 3  | 최영수  |

<roles 테이블>

| id |  role   |
|:--:|:-------:|
| 1  |  admin  |
| 2  |  staff  |
| 3  | student |

- articles와 users 테이블에 userId, roleId 외래 키 필드 작성

<articles 테이블>

| id | title | content | userId |
|:--:|:-----:|:-------:|:------:|
| 1  |  제목1  |   내용1   |   1    |
| 2  |  제목2  |   내용2   |   2    |
| 3  |  제목3  |   내용3   |   3    |

<users 테이블>

| id | name | roleId |
|:--:|:----:|:------:|
| 1  | 김철수  |   1    |
| 2  | 김영미  |   3    |
| 3  | 최영수  |   3    |

<roles 테이블>

| id |  role   |
|:--:|:-------:|
| 1  |  admin  |
| 2  |  staff  |
| 3  | student |

- 학생인 사람만 보고싶을 경우, roleId가 3인 데이터 조회
- '김철수'라는 사람이 '김철민'으로 개명할 경우, users에서 한 번만 변경하면 자동으로 모두 변경됨
- 테이블을 분리하면 관리는 용이하나 출력할 경우, 테이블 한 개만 출력할 수 밖에 없어 `다른 테이블과 연결지어 출력`하는 것이 중요
- 따라서 `JOIN`이 필요함


---

## (2) Joining tables

### **1) JOIN clause**

- 둘 이상의 테이블에서 데이터를 검색하는 방법

<br>

### **2) JOIN 종류**

- INNER JOIN
- OUTER JOIN
  - LEFT JOIN
  - RIGHT JOIN

<br>

